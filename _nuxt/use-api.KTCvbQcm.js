import{A as o,E as n,an as u}from"./entry.VGLBRfk-.js";import{u as i}from"./index.q7pdzPxW.js";const m=()=>{const a=u(),s=i("token",""),r=o();return $fetch.create({baseURL:a.public.apiBase,retry:!1,async onRequest({request:t,options:e}){e.headers=e.headers??{},e.headers.Authorization="Bearer "+s.value},async onRequestError({request:t,options:e}){r.error("请求服务器出错：无网络连接或服务器异常")},async onResponseError({request:t,response:e,options:c}){r.error("服务器发生错误："+e._data.msg),e.status===401&&(s.value="",n("/user/login"))}})};export{m as u};
